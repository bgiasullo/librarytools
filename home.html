<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Library Tools</title>
    <link rel="stylesheet" href="style.css">

    <div class="container">
        <h1>Library Tools</h1>
        <p>My attempt at making my life easier with some library-related tools. I focus on simplicity.</p>

    </div>

    <div class="container">
    <h2>BHL tools</h2>

    <div class="tool">

        <details>
            <summary>
            Clean XHTML transcription file for import to BHL
        </summary>

             <p>Useful if you are downloading transcription XHTML files (usually from FromThePage) and need to import them to BHL, but BHL Admin rejects the XHTML file.</p> 
            <p>This will parse the XHTML and output only the text you need as a CSV file. You can then get the BHL page IDs and sequence numbers, confirm the text aligns to the correct pages, and import to BHL.
             </p>

<input type="file" id="fileInputXHTML" accept=".xhtml" />
<button id="processBtnXhtml">Process File</button>
<br><br>
<a id="downloadLink"></a>

                        <script src="cleanxhtml.js"></script>
            
        </details>

    </div>
            
    </div>
    
    <div class="container">


        <h2>Zooniverse tools</h2>


        <div class="tool">

            <details>
                <summary>Split text file into multiple files</summary>


                <p>Useful if you have a plain text file containing multiple image transcriptions, each separated by Image [number], and need to separate them for upload to Zooniverse. Accepts a plain text file and performs the following actions:</p>

                <ol>
                    <li>Splits the text file by Image [number] into multiple files</li>
                    <li>Removes the Image [number] header and the leading 'Transcription:' if needed</li>
                    <li>Produces a ZIP file containing all text files for download</li>
                </ol>

                <div class="controls">
                    <input id="fileInputText" type="file" accept=".txt">
                    <button id="processBtnText">Process</button>
                    <button id="clearBtnText">Clear</button>
                </div>

                <ul id="outputList" hidden></ul>

                <div id="statusText" class="small"></div>

                <div id="zipWrap" hidden>

                    <button id="downloadZip">Download zipped text files</button>
                </div>

                <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
                <script src="textsplit.js"></script>

            </details>

        </div>

        <div class="tool">

            <details>

                <summary>Zooniverse data cleanup and BHL prep</summary>

                <p>Useful if you download transcription data from Zooniverse and need to prepare it for upload into BHL. Accepts a CSV file and performs the following actions:</p>
                <ol>
                    <li>Removes all but the necessary columns (annotations and subject_ids) from your Zooniverse data file</li>
                    <li>Removes extraneous text (things like [{"task":"T4","value":")</li>
                    <li>Finds and replaces unicode with its corresponding symbol (for example: \u0026 is replaced with &)</li>
                    <li>Adds this statement to every transcript: [This text was generated by AI then edited by volunteers. The text contains errors.] </li>
                    <li>Compares multiple annotations for each subject, finds the two most similar annotations, then selects one of them to be the final transcript</li>
                </ol>

                <p>Upload your Zooniverse data as a CSV file and press 'Process CSV.' When the process is done, your cleaned data file will be downloaded as cleaned-zooniverse-data.csv.</p>

                <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
                <script defer src="cleantranscripts.js"></script>

                <input type="file" id="csvfile" accept=".csv">

                <button onclick="processCSV()">Process CSV</button>

                <div id="statusCSV"></div>

                <p>
                    <strong>WARNING:</strong> If opening your cleaned CSV file in Microsoft Excel, follow the steps below, otherwise symbols will not display properly and will create unwanted characters.
                    <ol>
                        <li>Open a blank Excel workbook</li>
                        <li>Select Data from the top menu</li>
                        <li>Select From Text/CSV</li>
                        <li>Find your file and select Open</li>
                        <li>Confirm the File Origin is 65001: Unicode (UTF-8). If not, change it.</li>
                        <li>Select Load</li>
                    </ol>
                </p>
                
                <h3>Next steps</h3>

                <ol>
                    <li>Get the BHL page IDs and sequence numbers from the BHL admin system.</li>
                    <li>Confirm your only headers are PageID, SequenceNumber, and Text (case-sensitive).</li>
                    <li>Confirm PageIDs and SequendeNumber columns are aligned with correct text.</li>
                </ol>
            </details>
        </div>

    </div>



    <div class="container">

        <h2>To do list</h2>
        <ul>
            <li>ArchivesSpace to BHL metadata converter</li>
            <li>Get Zooniverse data cleanup to output CSV with original input file's name, with _cleaned at the end</li>
            <li>Many text files into one text file converter</li>
            <li>Transcription metadata creator and file converter (asks for metadata input, converts any file to plain text, outputs plain text file with metadata header)</li>

        </ul>



    </div>

    <div class="container">

        <h2>External tools</h2>

        <p>The below tools were NOT made by me but are wildly useful.</p>

        <ul>
            <li><a href="https://www.bulkrenameutility.co.uk/" target="_blank">Bulk Rename Utility</a> - Handy for renaming large amounts of files on Windows.</li>

            <li><a href="https://banerjek.github.io/cataloging-calculator/" target="_blank">Cataloging Calculator by Kyle Banerjee</a> - The greatest thing to happen to cataloging. Allows you to search for Library of Congress subject headings, cutter numbers,
                geographic cutters, and more.</li>

            <li><a href="https://metadatamaker.library.illinois.edu/" target="_blank">Metadata Maker</a> - Easily create metadata and export to various formats.</li>


        </ul>



    </div>

    </body>

</html>
